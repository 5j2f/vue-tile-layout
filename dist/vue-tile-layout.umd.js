var bo=Object.defineProperty,xo=Object.defineProperties;var wo=Object.getOwnPropertyDescriptors;var Sn=Object.getOwnPropertySymbols;var _o=Object.prototype.hasOwnProperty,Eo=Object.prototype.propertyIsEnumerable;var Tn=(D,d,B)=>d in D?bo(D,d,{enumerable:!0,configurable:!0,writable:!0,value:B}):D[d]=B,Ft=(D,d)=>{for(var B in d||(d={}))_o.call(d,B)&&Tn(D,B,d[B]);if(Sn)for(var B of Sn(d))Eo.call(d,B)&&Tn(D,B,d[B]);return D},ue=(D,d)=>xo(D,wo(d));(function(D,d){typeof exports=="object"&&typeof module!="undefined"?d(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],d):(D=typeof globalThis!="undefined"?globalThis:D||self,d(D.VueTileLayout={},D.Vue))})(this,function(D,d){"use strict";function B(e){let t=0,n;for(let i=0,o=e.length;i<o;i++)n=e[i].y+e[i].h,n>t&&(t=n);return t}function Wt(e){const t=Array(e.length);for(let n=0,i=e.length;n<i;n++)t[n]=Mn(e[n]);return t}function Mn(e){return JSON.parse(JSON.stringify(e))}function pe(e,t){return!(e===t||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function at(e,t){const n=fe(e),i=me(e),o=Array(e.length);for(let r=0,s=i.length;r<s;r++){let a=i[r];a.static||(a=Pn(n,a,t),n.push(a)),o[e.indexOf(a)]=a,a.moved=!1}return o}function Pn(e,t,n){if(n)for(;t.y>0&&!Et(e,t);)t.y--;let i;for(;i=Et(e,t);)t.y=i.y+i.h;return t}function In(e,t){const n=fe(e);for(let i=0,o=e.length;i<o;i++){const r=e[i];if(r.x+r.w>t.cols&&(r.x=t.cols-r.w),r.x<0&&(r.x=0,r.w=t.cols),!r.static)n.push(r);else for(;Et(n,r);)r.y++}return e}function de(e,t){for(let n=0,i=e.length;n<i;n++)if(e[n].i===t)return e[n]}function Et(e,t){for(let n=0,i=e.length;n<i;n++)if(pe(e[n],t))return e[n]}function he(e,t){return e.filter(n=>pe(n,t))}function fe(e){return e.filter(t=>t.static)}function jt(e,t,n,i,o,r){if(t.static)return e;const s=t.x,a=t.y,l=i&&t.y>i;typeof n=="number"&&(t.x=n),typeof i=="number"&&(t.y=i),t.moved=!0;let u=me(e);l&&(u=u.reverse());const c=he(u,t);if(r&&c.length)return t.x=s,t.y=a,t.moved=!1,e;for(let p=0,g=c.length;p<g;p++){const m=c[p];m.moved||t.y>m.y&&t.y-m.y>m.h/4||(m.static?e=ge(e,m,t,o):e=ge(e,t,m,o))}return e}function ge(e,t,n,i){const o=!1;if(i){const r={x:n.x,y:n.y,w:n.w,h:n.h,i:"-1"};if(r.y=Math.max(t.y-n.h,0),!Et(e,r))return jt(e,n,void 0,r.y,i,o)}return jt(e,n,void 0,n.y+1,i,o)}function zn(e,t,n,i){const o="translate3d("+t+"px,"+e+"px, 0)";return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:n+"px",height:i+"px",position:"absolute"}}function $n(e,t,n,i){const o="translate3d("+t*-1+"px,"+e+"px, 0)";return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:n+"px",height:i+"px",position:"absolute"}}function On(e,t,n,i){return{top:e+"px",left:t+"px",width:n+"px",height:i+"px",position:"absolute"}}function Dn(e,t,n,i){return{top:e+"px",right:t+"px",width:n+"px",height:i+"px",position:"absolute"}}function me(e){return[].concat(e).sort(function(t,n){return t.y===n.y&&t.x===n.x?0:t.y>n.y||t.y===n.y&&t.x>n.x?1:-1})}function Cn(e,t){t=t||"Layout";const n=["x","y","w","h"],i=[];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(let o=0,r=e.length;o<r;o++){const s=e[o];for(let a=0;a<n.length;a++)if(typeof s[n[a]]!="number")throw new Error("VueGridLayout: "+t+"["+o+"]."+n[a]+" must be a number!");if(s.i===void 0||s.i===null)throw new Error("VueGridLayout: "+t+"["+o+"].i cannot be null!");if(typeof s.i!="number"&&typeof s.i!="string")throw new Error("VueGridLayout: "+t+"["+o+"].i must be a string or number!");if(i.indexOf(s.i)>=0)throw new Error("VueGridLayout: "+t+"["+o+"].i must be unique!");if(i.push(s.i),s.static!==void 0&&typeof s.static!="boolean")throw new Error("VueGridLayout: "+t+"["+o+"].static must be a boolean!")}}const ye=e=>Rn(e);function Rn(e){const t=e.target.offsetParent||document.body,n=t===document.body?{left:0,top:0}:t.getBoundingClientRect(),i=e.clientX+t.scrollLeft-n.left,o=e.clientY+t.scrollTop-n.top;return{x:i,y:o}}function ve(e,t,n,i){return isNaN(e)?{deltaX:0,deltaY:0,lastX:n,lastY:i,x:n,y:i}:{deltaX:n-e,deltaY:i-t,lastX:e,lastY:t,x:n,y:i}}function An(e,t){const n=be(e);let i=n[0];for(let o=1,r=n.length;o<r;o++){const s=n[o];t>e[s]&&(i=s)}return i}function Bt(e,t){if(!t[e])throw new Error("ResponsiveGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]}function kn(e,t,n,i,o,r,s){if(t[i])return Wt(t[i]);let a=e;const l=be(n),u=l.slice(l.indexOf(i));for(let c=0,p=u.length;c<p;c++){const g=u[c];if(t[g]){a=t[g];break}}return a=Wt(a||[]),at(In(a,{cols:r}),s)}function be(e){return Object.keys(e).sort(function(n,i){return e[n]-e[i]})}const H={init(e){const t=e;H.document=t.document,H.DocumentFragment=t.DocumentFragment||lt,H.SVGElement=t.SVGElement||lt,H.SVGSVGElement=t.SVGSVGElement||lt,H.SVGElementInstance=t.SVGElementInstance||lt,H.Element=t.Element||lt,H.HTMLElement=t.HTMLElement||H.Element,H.Event=t.Event,H.Touch=t.Touch||lt,H.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function lt(){}var W=H,xe=e=>!(!e||!e.Window)&&e instanceof e.Window;let we,Q;function _e(e){we=e;const t=e.document.createTextNode("");t.ownerDocument!==e.document&&typeof e.wrap=="function"&&e.wrap(t)===t&&(e=e.wrap(e)),Q=e}typeof window!="undefined"&&window&&_e(window);function ct(e){return xe(e)?e:(e.ownerDocument||e).defaultView||Q.window}const St=e=>!!e&&typeof e=="object",Ee=e=>typeof e=="function";var h={window:e=>e===Q||xe(e),docFrag:e=>St(e)&&e.nodeType===11,object:St,func:Ee,number:e=>typeof e=="number",bool:e=>typeof e=="boolean",string:e=>typeof e=="string",element(e){if(!e||typeof e!="object")return!1;const t=ct(e)||Q;return/object|function/.test(typeof t.Element)?e instanceof t.Element:e.nodeType===1&&typeof e.nodeName=="string"},plainObject:e=>St(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString()),array:e=>St(e)&&e.length!==void 0&&Ee(e.splice)};const L={init(e){const t=W.Element,n=e.navigator||{};L.supportsTouch="ontouchstart"in e||h.func(e.DocumentTouch)&&W.document instanceof e.DocumentTouch,L.supportsPointerEvent=n.pointerEnabled!==!1&&!!W.PointerEvent,L.isIOS=/iP(hone|od|ad)/.test(n.platform),L.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),L.isIe9=/MSIE 9/.test(n.userAgent),L.isOperaMobile=n.appName==="Opera"&&L.supportsTouch&&/Presto/.test(n.userAgent),L.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",L.pEventTypes=L.supportsPointerEvent?W.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,L.wheelEvent=W.document&&"onmousewheel"in W.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null};var X=L;const Fn=(e,t)=>e.indexOf(t)!==-1,Se=(e,t)=>{for(const n of t)e.push(n);return e},Te=e=>Se([],e),Tt=(e,t)=>{for(let n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1},Ht=(e,t)=>e[Tt(e,t)];function ut(e){const t={};for(const n in e){const i=e[n];h.plainObject(i)?t[n]=ut(i):h.array(i)?t[n]=Te(i):t[n]=i}return t}function v(e,t){for(const n in t)e[n]=t[n];return e}let V,tt,Me=0;var Wn={request:e=>V(e),cancel:e=>tt(e),init(e){if(V=e.requestAnimationFrame,tt=e.cancelAnimationFrame,!V){const t=["ms","moz","webkit","o"];for(const n of t)V=e[n+"RequestAnimationFrame"],tt=e[n+"CancelAnimationFrame"]||e[n+"CancelRequestAnimationFrame"]}V=V&&V.bind(e),tt=tt&&tt.bind(e),V||(V=t=>{const n=Date.now(),i=Math.max(0,16-(n-Me)),o=e.setTimeout(()=>{t(n+i)},i);return Me=n+i,o},tt=t=>clearTimeout(t))}};function pt(e,t,n){if(n=n||{},h.string(e)&&e.search(" ")!==-1&&(e=Pe(e)),h.array(e))return e.reduce((i,o)=>v(i,pt(o,t,n)),n);if(h.object(e)&&(t=e,e=""),h.func(t))n[e]=n[e]||[],n[e].push(t);else if(h.array(t))for(const i of t)pt(e,i,n);else if(h.object(t))for(const i in t)pt(Pe(i).map(o=>`${e}${o}`),t[i],n);return n}function Pe(e){return e.trim().split(/ +/)}function Ie(e,t){for(const n of t){if(e.immediatePropagationStopped)break;n(e)}}class ze{constructor(t){this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=v({},t||{})}fire(t){let n;const i=this.global;(n=this.types[t.type])&&Ie(t,n),!t.propagationStopped&&i&&(n=i[t.type])&&Ie(t,n)}on(t,n){const i=pt(t,n);for(t in i)this.types[t]=Se(this.types[t]||[],i[t])}off(t,n){const i=pt(t,n);for(t in i){const o=this.types[t];if(o&&o.length)for(const r of i[t]){const s=o.indexOf(r);s!==-1&&o.splice(s,1)}}}getRect(t){return null}}function et(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function $e(e,t){for(;h.element(e);){if(it(e,t))return e;e=nt(e)}return null}function nt(e){let t=e.parentNode;if(h.docFrag(t)){for(;(t=t.host)&&h.docFrag(t););return t}return t}function it(e,t){return Q!==we&&(t=t.replace(/\/deep\//g," ")),e[X.prefixedMatchesSelector](t)}function Lt(e,t,n){for(;h.element(e);){if(it(e,t))return!0;if((e=nt(e))===n)return it(e,t)}return!1}function Oe(e){return e.correspondingUseElement||e}function jn(e){return{x:(e=e||Q).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function De(e){const t=e instanceof W.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function Nt(e){const t=De(e);if(!X.isIOS7&&t){const n=jn(ct(e));t.left+=n.x,t.right+=n.x,t.top+=n.y,t.bottom+=n.y}return t}function Ce(e){return!!h.string(e)&&(W.document.querySelector(e),!0)}function Bn(e,t,n){return e==="parent"?nt(n):e==="self"?t.getRect(n):$e(n,e)}function ht(e,t,n,i){let o=e;return h.string(o)?o=Bn(o,t,n):h.func(o)&&(o=o(...i)),h.element(o)&&(o=Nt(o)),o}function Mt(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}}function Hn(e){return!e||"left"in e&&"top"in e||((e=v({},e)).left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e}function Re(e){return!e||"x"in e&&"y"in e||((e=v({},e)).x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e}function Xt(e,t,n){e.left&&(t.left+=n.x),e.right&&(t.right+=n.x),e.top&&(t.top+=n.y),e.bottom&&(t.bottom+=n.y),t.width=t.right-t.left,t.height=t.bottom-t.top}var Yt=(e,t,n)=>{const i=e.options[n],o=i&&i.origin||e.options.origin,r=ht(o,e,t,[e&&t]);return Mt(r)||{x:0,y:0}},Pt=(e,t)=>Math.sqrt(e*e+t*t);class Ae{constructor(t){this.type=void 0,this.target=void 0,this.currentTarget=void 0,this.interactable=void 0,this._interaction=void 0,this.timeStamp=void 0,this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=t}preventDefault(){}stopPropagation(){this.propagationStopped=!0}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}}Object.defineProperty(Ae.prototype,"interaction",{get(){return this._interaction._proxy},set(){}});const ke={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};class qt extends Ae{constructor(t,n,i,o,r,s,a){super(t),this.target=void 0,this.currentTarget=void 0,this.relatedTarget=null,this.screenX=void 0,this.screenY=void 0,this.button=void 0,this.buttons=void 0,this.ctrlKey=void 0,this.shiftKey=void 0,this.altKey=void 0,this.metaKey=void 0,this.page=void 0,this.client=void 0,this.delta=void 0,this.rect=void 0,this.x0=void 0,this.y0=void 0,this.t0=void 0,this.dt=void 0,this.duration=void 0,this.clientX0=void 0,this.clientY0=void 0,this.velocity=void 0,this.speed=void 0,this.swipe=void 0,this.timeStamp=void 0,this.axes=void 0,this.preEnd=void 0,r=r||t.element;const l=t.interactable,u=(l&&l.options||ke).deltaSource,c=Yt(l,r,i),p=o==="start",g=o==="end",m=p?this:t.prevEvent,w=p?t.coords.start:g?{page:m.page,client:m.client,timeStamp:t.coords.cur.timeStamp}:t.coords.cur;this.page=v({},w.page),this.client=v({},w.client),this.rect=v({},t.rect),this.timeStamp=w.timeStamp,g||(this.page.x-=c.x,this.page.y-=c.y,this.client.x-=c.x,this.client.y-=c.y),this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.button=n.button,this.buttons=n.buttons,this.target=r,this.currentTarget=r,this.preEnd=s,this.type=a||i+(o||""),this.interactable=l,this.t0=p?t.pointers[t.pointers.length-1].downTime:m.t0,this.x0=t.coords.start.page.x-c.x,this.y0=t.coords.start.page.y-c.y,this.clientX0=t.coords.start.client.x-c.x,this.clientY0=t.coords.start.client.y-c.y,this.delta=p||g?{x:0,y:0}:{x:this[u].x-m[u].x,y:this[u].y-m[u].y},this.dt=t.coords.delta.timeStamp,this.duration=this.timeStamp-this.t0,this.velocity=v({},t.coords.velocity[u]),this.speed=Pt(this.velocity.x,this.velocity.y),this.swipe=g||o==="inertiastart"?this.getSwipe():null}getSwipe(){const t=this._interaction;if(t.prevEvent.speed<600||this.timeStamp-t.prevEvent.timeStamp>150)return null;let n=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI;n<0&&(n+=360);const i=112.5<=n&&n<247.5,o=202.5<=n&&n<337.5;return{up:o,down:!o&&22.5<=n&&n<157.5,left:i,right:!i&&(292.5<=n||n<67.5),angle:n,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}}preventDefault(){}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}stopPropagation(){this.propagationStopped=!0}}Object.defineProperties(qt.prototype,{pageX:{get(){return this.page.x},set(e){this.page.x=e}},pageY:{get(){return this.page.y},set(e){this.page.y=e}},clientX:{get(){return this.client.x},set(e){this.client.x=e}},clientY:{get(){return this.client.y},set(e){this.client.y=e}},dx:{get(){return this.delta.x},set(e){this.delta.x=e}},dy:{get(){return this.delta.y},set(e){this.delta.y=e}},velocityX:{get(){return this.velocity.x},set(e){this.velocity.x=e}},velocityY:{get(){return this.velocity.y},set(e){this.velocity.y=e}}});function ft(e,t){let n=!1;return function(){return n||(Q.console.warn(t),n=!0),e.apply(this,arguments)}}function Fe(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e}function It(e,t){for(const n in t){const i=It.prefixedPropREs;let o=!1;for(const r in i)if(n.indexOf(r)===0&&i[r].test(n)){o=!0;break}o||typeof t[n]=="function"||(e[n]=t[n])}return e}It.prefixedPropREs={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/,moz:/(Pressure)$/};function Gt(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp}function Ln(e,t,n){e.page.x=n.page.x-t.page.x,e.page.y=n.page.y-t.page.y,e.client.x=n.client.x-t.client.x,e.client.y=n.client.y-t.client.y,e.timeStamp=n.timeStamp-t.timeStamp}function Nn(e,t){const n=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/n,e.page.y=t.page.y/n,e.client.x=t.client.x/n,e.client.y=t.client.y/n,e.timeStamp=n}function Xn(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0}function We(e){return e instanceof W.Event||e instanceof W.Touch}function zt(e,t,n){return e=e||"page",(n=n||{}).x=t[e+"X"],n.y=t[e+"Y"],n}function Yn(e,t){return t=t||{x:0,y:0},X.isOperaMobile&&We(e)?(zt("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):zt("page",e,t),t}function qn(e,t){return t=t||{},X.isOperaMobile&&We(e)?zt("screen",e,t):zt("client",e,t),t}function $t(e){return h.number(e.pointerId)?e.pointerId:e.identifier}function Gn(e,t,n){const i=t.length>1?je(t):t[0];Yn(i,e.page),qn(i,e.client),e.timeStamp=n}function Vt(e){const t=[];return h.array(e)?(t[0]=e[0],t[1]=e[1]):e.type==="touchend"?e.touches.length===1?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):e.touches.length===0&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function je(e){const t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0};for(const n of e)for(const i in t)t[i]+=n[i];for(const n in t)t[n]/=e.length;return t}function Vn(e){if(!e.length)return null;const t=Vt(e),n=Math.min(t[0].pageX,t[1].pageX),i=Math.min(t[0].pageY,t[1].pageY),o=Math.max(t[0].pageX,t[1].pageX),r=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:i,left:n,top:i,right:o,bottom:r,width:o-n,height:r-i}}function Un(e,t){const n=t+"X",i=t+"Y",o=Vt(e),r=o[0][n]-o[1][n],s=o[0][i]-o[1][i];return Pt(r,s)}function Kn(e,t){const n=t+"X",i=t+"Y",o=Vt(e),r=o[1][n]-o[0][n],s=o[1][i]-o[0][i];return 180*Math.atan2(s,r)/Math.PI}function Jn(e){return h.string(e.pointerType)?e.pointerType:h.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof W.Touch?"touch":"mouse"}function Be(e){const t=h.func(e.composedPath)?e.composedPath():e.path;return[Oe(t?t[0]:e.target),Oe(e.currentTarget)]}function gt(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}}function Ut(e,t){if(t.phaselessTypes[e])return!0;for(const n in t.map)if(e.indexOf(n)===0&&e.substr(n.length)in t.phases)return!0;return!1}function Zn(e){const t=(n,i)=>{let o=e.interactables.get(n,i);return o||(o=e.interactables.new(n,i),o.events.global=t.globalEvents),o};return t.getPointerAverage=je,t.getTouchBBox=Vn,t.getTouchDistance=Un,t.getTouchAngle=Kn,t.getElementRect=Nt,t.getElementClientRect=De,t.matchesSelector=it,t.closest=$e,t.globalEvents={},t.version="1.10.11",t.scope=e,t.use=function(n,i){return this.scope.usePlugin(n,i),this},t.isSet=function(n,i){return!!this.scope.interactables.get(n,i&&i.context)},t.on=ft(function(n,i,o){if(h.string(n)&&n.search(" ")!==-1&&(n=n.trim().split(/ +/)),h.array(n)){for(const r of n)this.on(r,i,o);return this}if(h.object(n)){for(const r in n)this.on(r,n[r],i);return this}return Ut(n,this.scope.actions)?this.globalEvents[n]?this.globalEvents[n].push(i):this.globalEvents[n]=[i]:this.scope.events.add(this.scope.document,n,i,{options:o}),this},"The interact.on() method is being deprecated"),t.off=ft(function(n,i,o){if(h.string(n)&&n.search(" ")!==-1&&(n=n.trim().split(/ +/)),h.array(n)){for(const r of n)this.off(r,i,o);return this}if(h.object(n)){for(const r in n)this.off(r,n[r],i);return this}if(Ut(n,this.scope.actions)){let r;n in this.globalEvents&&(r=this.globalEvents[n].indexOf(i))!==-1&&this.globalEvents[n].splice(r,1)}else this.scope.events.remove(this.scope.document,n,i,o);return this},"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=()=>X.supportsTouch,t.supportsPointerEvent=()=>X.supportsPointerEvent,t.stop=function(){for(const n of this.scope.interactions.list)n.stop();return this},t.pointerMoveTolerance=function(n){return h.number(n)?(this.scope.interactions.pointerMoveTolerance=n,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(n,i){this.scope.addDocument(n,i)},t.removeDocument=function(n){this.scope.removeDocument(n)},t}class Qn{get _defaults(){return{base:{},perAction:{},actions:{}}}constructor(t,n,i,o){this.options=void 0,this._actions=void 0,this.target=void 0,this.events=new ze,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._rectChecker=void 0,this._actions=n.actions,this.target=t,this._context=n.context||i,this._win=ct(Ce(t)?this._context:t),this._doc=this._win.document,this._scopeEvents=o,this.set(n)}setOnEvents(t,n){return h.func(n.onstart)&&this.on(t+"start",n.onstart),h.func(n.onmove)&&this.on(t+"move",n.onmove),h.func(n.onend)&&this.on(t+"end",n.onend),h.func(n.oninertiastart)&&this.on(t+"inertiastart",n.oninertiastart),this}updatePerActionListeners(t,n,i){(h.array(n)||h.object(n))&&this.off(t,n),(h.array(i)||h.object(i))&&this.on(t,i)}setPerAction(t,n){const i=this._defaults;for(const o in n){const r=o,s=this.options[t],a=n[r];r==="listeners"&&this.updatePerActionListeners(t,s.listeners,a),h.array(a)?s[r]=Te(a):h.plainObject(a)?(s[r]=v(s[r]||{},ut(a)),h.object(i.perAction[r])&&"enabled"in i.perAction[r]&&(s[r].enabled=a.enabled!==!1)):h.bool(a)&&h.object(i.perAction[r])?s[r].enabled=a:s[r]=a}}getRect(t){return t=t||(h.element(this.target)?this.target:null),h.string(this.target)&&(t=t||this._context.querySelector(this.target)),Nt(t)}rectChecker(t){return h.func(t)?(this._rectChecker=t,this.getRect=n=>{const i=v({},this._rectChecker(n));return"width"in i||(i.width=i.right-i.left,i.height=i.bottom-i.top),i},this):t===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}_backCompatOption(t,n){if(Ce(n)||h.object(n)){this.options[t]=n;for(const i in this._actions.map)this.options[i][t]=n;return this}return this.options[t]}origin(t){return this._backCompatOption("origin",t)}deltaSource(t){return t==="page"||t==="client"?(this.options.deltaSource=t,this):this.options.deltaSource}context(){return this._context}inContext(t){return this._context===t.ownerDocument||et(this._context,t)}testIgnoreAllow(t,n,i){return!this.testIgnore(t.ignoreFrom,n,i)&&this.testAllow(t.allowFrom,n,i)}testAllow(t,n,i){return!t||!!h.element(i)&&(h.string(t)?Lt(i,t,n):!!h.element(t)&&et(t,i))}testIgnore(t,n,i){return!(!t||!h.element(i))&&(h.string(t)?Lt(i,t,n):!!h.element(t)&&et(t,i))}fire(t){return this.events.fire(t),this}_onOff(t,n,i,o){h.object(n)&&!h.array(n)&&(o=i,i=null);const r=t==="on"?"add":"remove",s=pt(n,i);for(let a in s){a==="wheel"&&(a=X.wheelEvent);for(const l of s[a])Ut(a,this._actions)?this.events[t](a,l):h.string(this.target)?this._scopeEvents[r+"Delegate"](this.target,this._context,a,l,o):this._scopeEvents[r](this.target,a,l,o)}return this}on(t,n,i){return this._onOff("on",t,n,i)}off(t,n,i){return this._onOff("off",t,n,i)}set(t){const n=this._defaults;h.object(t)||(t={}),this.options=ut(n.base);for(const i in this._actions.methodDict){const o=i,r=this._actions.methodDict[o];this.options[o]={},this.setPerAction(o,v(v({},n.perAction),n.actions[o])),this[r](t[o])}for(const i in t)h.func(this[i])&&this[i](t[i]);return this}unset(){if(h.string(this.target))for(const t in this._scopeEvents.delegatedEvents){const n=this._scopeEvents.delegatedEvents[t];for(let i=n.length-1;i>=0;i--){const{selector:o,context:r,listeners:s}=n[i];o===this.target&&r===this._context&&n.splice(i,1);for(let a=s.length-1;a>=0;a--)this._scopeEvents.removeDelegate(this.target,this._context,t,s[a][0],s[a][1])}}else this._scopeEvents.remove(this.target,"all")}}class ti{constructor(t){this.list=[],this.selectorMap={},this.scope=void 0,this.scope=t,t.addListeners({"interactable:unset":({interactable:n})=>{const{target:i,_context:o}=n,r=h.string(i)?this.selectorMap[i]:i[this.scope.id],s=Tt(r,a=>a.context===o);r[s]&&(r[s].context=null,r[s].interactable=null),r.splice(s,1)}})}new(t,n){n=v(n||{},{actions:this.scope.actions});const i=new this.scope.Interactable(t,n,this.scope.document,this.scope.events),o={context:i._context,interactable:i};return this.scope.addDocument(i._doc),this.list.push(i),h.string(t)?(this.selectorMap[t]||(this.selectorMap[t]=[]),this.selectorMap[t].push(o)):(i.target[this.scope.id]||Object.defineProperty(t,this.scope.id,{value:[],configurable:!0}),t[this.scope.id].push(o)),this.scope.fire("interactable:new",{target:t,options:n,interactable:i,win:this.scope._win}),i}get(t,n){const i=n&&n.context||this.scope.document,o=h.string(t),r=o?this.selectorMap[t]:t[this.scope.id];if(!r)return null;const s=Ht(r,a=>a.context===i&&(o||a.interactable.inContext(t)));return s&&s.interactable}forEachMatch(t,n){for(const i of this.list){let o;if((h.string(i.target)?h.element(t)&&it(t,i.target):t===i.target)&&i.inContext(t)&&(o=n(i)),o!==void 0)return o}}}class ei{constructor(t){this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=t,It(this,t)}preventOriginalDefault(){this.originalEvent.preventDefault()}stopPropagation(){this.originalEvent.stopPropagation()}stopImmediatePropagation(){this.originalEvent.stopImmediatePropagation()}}function mt(e){if(!h.object(e))return{capture:!!e,passive:!1};const t=v({},e);return t.capture=!!e.capture,t.passive=!!e.passive,t}var ni={id:"events",install(e){var t;const n=[],i={},o=[],r={add:s,remove:a,addDelegate(c,p,g,m,w){const _=mt(w);if(!i[g]){i[g]=[];for(const P of o)s(P,g,l),s(P,g,u,!0)}const b=i[g];let E=Ht(b,P=>P.selector===c&&P.context===p);E||(E={selector:c,context:p,listeners:[]},b.push(E)),E.listeners.push([m,_])},removeDelegate(c,p,g,m,w){const _=mt(w),b=i[g];let E,P=!1;if(b)for(E=b.length-1;E>=0;E--){const M=b[E];if(M.selector===c&&M.context===p){const{listeners:N}=M;for(let S=N.length-1;S>=0;S--){const[$,{capture:C,passive:j}]=N[S];if($===m&&C===_.capture&&j===_.passive){N.splice(S,1),N.length||(b.splice(E,1),a(p,g,l),a(p,g,u,!0)),P=!0;break}}if(P)break}}},delegateListener:l,delegateUseCapture:u,delegatedEvents:i,documents:o,targets:n,supportsOptions:!1,supportsPassive:!1};function s(c,p,g,m){const w=mt(m);let _=Ht(n,b=>b.eventTarget===c);_||(_={eventTarget:c,events:{}},n.push(_)),_.events[p]||(_.events[p]=[]),c.addEventListener&&!Fn(_.events[p],g)&&(c.addEventListener(p,g,r.supportsOptions?w:w.capture),_.events[p].push(g))}function a(c,p,g,m){const w=mt(m),_=Tt(n,M=>M.eventTarget===c),b=n[_];if(!b||!b.events)return;if(p==="all"){for(p in b.events)b.events.hasOwnProperty(p)&&a(c,p,"all");return}let E=!1;const P=b.events[p];if(P){if(g==="all"){for(let M=P.length-1;M>=0;M--)a(c,p,P[M],w);return}for(let M=0;M<P.length;M++)if(P[M]===g){c.removeEventListener(p,g,r.supportsOptions?w:w.capture),P.splice(M,1),P.length===0&&(delete b.events[p],E=!0);break}}E&&!Object.keys(b.events).length&&n.splice(_,1)}function l(c,p){const g=mt(p),m=new ei(c),w=i[c.type],[_]=Be(c);let b=_;for(;h.element(b);){for(let E=0;E<w.length;E++){const P=w[E],{selector:M,context:N}=P;if(it(b,M)&&et(N,_)&&et(N,b)){const{listeners:S}=P;m.currentTarget=b;for(const[$,{capture:C,passive:j}]of S)C===g.capture&&j===g.passive&&$(m)}}b=nt(b)}}function u(c){return l(c,!0)}return(t=e.document)==null||t.createElement("div").addEventListener("test",null,{get capture(){return r.supportsOptions=!0},get passive(){return r.supportsPassive=!0}}),e.events=r,r}};class ii{constructor(t,n,i,o,r){this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=t,this.pointer=n,this.event=i,this.downTime=o,this.downTarget=r}}let Kt;(e=>{e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy=""})(Kt||(Kt={}));let Jt;(e=>{e.start="",e.move="",e.end="",e.stop="",e.interacting=""})(Jt||(Jt={}));let oi=0;class ri{get pointerMoveTolerance(){return 1}constructor({pointerType:t,scopeFire:n}){this.interactable=null,this.element=null,this.rect=void 0,this._rects=void 0,this.edges=void 0,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=null,this.simulation=null,this.doMove=ft(function(o){this.move(o)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:gt(),prev:gt(),cur:gt(),delta:gt(),velocity:gt()},this._id=oi++,this._scopeFire=n,this.pointerType=t;const i=this;this._proxy={};for(const o in Kt)Object.defineProperty(this._proxy,o,{get(){return i[o]}});for(const o in Jt)Object.defineProperty(this._proxy,o,{value:(...r)=>i[o](...r)});this._scopeFire("interactions:new",{interaction:this})}pointerDown(t,n,i){const o=this.updatePointer(t,n,i,!0),r=this.pointers[o];this._scopeFire("interactions:down",{pointer:t,event:n,eventTarget:i,pointerIndex:o,pointerInfo:r,type:"down",interaction:this})}start(t,n,i){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(t.name==="gesture"?2:1)||!n.options[t.name].enabled)&&(Fe(this.prepared,t),this.interactable=n,this.element=i,this.rect=n.getRect(i),this.edges=this.prepared.edges?v({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}pointerMove(t,n,i){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(t,n,i,!1);const o=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;let r,s;this.pointerIsDown&&!this.pointerWasMoved&&(r=this.coords.cur.client.x-this.coords.start.client.x,s=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=Pt(r,s)>this.pointerMoveTolerance);const a=this.getPointerIndex(t),l={pointer:t,pointerIndex:a,pointerInfo:this.pointers[a],event:n,type:"move",eventTarget:i,dx:r,dy:s,duplicate:o,interaction:this};o||Nn(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",l),o||this.simulation||(this.interacting()&&(l.type=null,this.move(l)),this.pointerWasMoved&&Gt(this.coords.prev,this.coords.cur))}move(t){t&&t.event||Xn(this.coords.delta),(t=v({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},t||{})).phase="move",this._doPhase(t)}pointerUp(t,n,i,o){let r=this.getPointerIndex(t);r===-1&&(r=this.updatePointer(t,n,i,!1));const s=/cancel$/i.test(n.type)?"cancel":"up";this._scopeFire("interactions:"+s,{pointer:t,pointerIndex:r,pointerInfo:this.pointers[r],event:n,eventTarget:i,type:s,curEventTarget:o,interaction:this}),this.simulation||this.end(n),this.removePointer(t,n)}documentBlur(t){this.end(t),this._scopeFire("interactions:blur",{event:t,type:"blur",interaction:this})}end(t){let n;this._ending=!0,t=t||this._latestPointer.event,this.interacting()&&(n=this._doPhase({event:t,interaction:this,phase:"end"})),this._ending=!1,n===!0&&this.stop()}currentAction(){return this._interacting?this.prepared.name:null}interacting(){return this._interacting}stop(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}getPointerIndex(t){const n=$t(t);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:Tt(this.pointers,i=>i.id===n)}getPointerInfo(t){return this.pointers[this.getPointerIndex(t)]}updatePointer(t,n,i,o){const r=$t(t);let s=this.getPointerIndex(t),a=this.pointers[s];return o=o!==!1&&(o||/(down|start)$/i.test(n.type)),a?a.pointer=t:(a=new ii(r,t,n,null,null),s=this.pointers.length,this.pointers.push(a)),Gn(this.coords.cur,this.pointers.map(l=>l.pointer),this._now()),Ln(this.coords.delta,this.coords.prev,this.coords.cur),o&&(this.pointerIsDown=!0,a.downTime=this.coords.cur.timeStamp,a.downTarget=i,It(this.downPointer,t),this.interacting()||(Gt(this.coords.start,this.coords.cur),Gt(this.coords.prev,this.coords.cur),this.downEvent=n,this.pointerWasMoved=!1)),this._updateLatestPointer(t,n,i),this._scopeFire("interactions:update-pointer",{pointer:t,event:n,eventTarget:i,down:o,pointerInfo:a,pointerIndex:s,interaction:this}),s}removePointer(t,n){const i=this.getPointerIndex(t);if(i===-1)return;const o=this.pointers[i];this._scopeFire("interactions:remove-pointer",{pointer:t,event:n,eventTarget:null,pointerIndex:i,pointerInfo:o,interaction:this}),this.pointers.splice(i,1),this.pointerIsDown=!1}_updateLatestPointer(t,n,i){this._latestPointer.pointer=t,this._latestPointer.event=n,this._latestPointer.eventTarget=i}destroy(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}_createPreparedEvent(t,n,i,o){return new qt(this,t,this.prepared.name,n,this.element,i,o)}_fireEvent(t){this.interactable.fire(t),(!this.prevEvent||t.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=t)}_doPhase(t){const{event:n,phase:i,preEnd:o,type:r}=t,{rect:s}=this;if(s&&i==="move"&&(Xt(this.edges,s,this.coords.delta[this.interactable.options.deltaSource]),s.width=s.right-s.left,s.height=s.bottom-s.top),this._scopeFire("interactions:before-action-"+i,t)===!1)return!1;const a=t.iEvent=this._createPreparedEvent(n,i,o,r);return this._scopeFire("interactions:action-"+i,t),i==="start"&&(this.prevEvent=a),this._fireEvent(a),this._scopeFire("interactions:after-action-"+i,t),!0}_now(){return Date.now()}}var si=ri;function ai(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):h.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault}function li({interaction:e,event:t}){e.interactable&&e.interactable.checkAndPreventDefault(t)}function ci(e){const{Interactable:t}=e;t.prototype.preventDefault=ai,t.prototype.checkAndPreventDefault=function(n){return((i,o,r)=>{const s=i.options.preventDefault;if(s!=="never")if(s!=="always"){if(o.events.supportsPassive&&/^touch(start|move)$/.test(r.type)){const a=ct(r.target).document,l=o.getDocOptions(a);if(!l||!l.events||l.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(r.type)||h.element(r.target)&&it(r.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||r.preventDefault()}else r.preventDefault()})(this,e,n)},e.interactions.docEvents.push({type:"dragstart",listener(n){for(const i of e.interactions.list)if(i.element&&(i.element===n.target||et(i.element,n.target)))return void i.interactable.checkAndPreventDefault(n)}})}var ui={id:"core/interactablePreventDefault",install:ci,listeners:["down","move","up","cancel"].reduce((e,t)=>(e["interactions:"+t]=li,e),{})};const Zt={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search(e){for(const t of Zt.methodOrder){const n=Zt[t](e);if(n)return n}return null},simulationResume({pointerType:e,eventType:t,eventTarget:n,scope:i}){if(!/down|start/i.test(t))return null;for(const o of i.interactions.list){let r=n;if(o.simulation&&o.simulation.allowResume&&o.pointerType===e)for(;r;){if(r===o.element)return o;r=nt(r)}}return null},mouseOrPen({pointerId:e,pointerType:t,eventType:n,scope:i}){if(t!=="mouse"&&t!=="pen")return null;let o;for(const r of i.interactions.list)if(r.pointerType===t){if(r.simulation&&!He(r,e))continue;if(r.interacting())return r;o||(o=r)}if(o)return o;for(const r of i.interactions.list)if(!(r.pointerType!==t||/down/i.test(n)&&r.simulation))return r;return null},hasPointer({pointerId:e,scope:t}){for(const n of t.interactions.list)if(He(n,e))return n;return null},idle({pointerType:e,scope:t}){for(const n of t.interactions.list){if(n.pointers.length===1){const i=n.interactable;if(i&&(!i.options.gesture||!i.options.gesture.enabled))continue}else if(n.pointers.length>=2)continue;if(!n.interacting()&&e===n.pointerType)return n}return null}};function He(e,t){return e.pointers.some(({id:n})=>n===t)}var pi=Zt;const Le=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Ne(e,t){return n=>{const i=t.interactions.list,o=Jn(n),[r,s]=Be(n),a=[];if(/^touch/.test(n.type)){t.prevTouchTime=t.now();for(const l of n.changedTouches){const u=l,c={pointer:u,pointerId:$t(u),pointerType:o,eventType:n.type,eventTarget:r,curEventTarget:s,scope:t},p=Xe(c);a.push([c.pointer,c.eventTarget,c.curEventTarget,p])}}else{let l=!1;if(!X.supportsPointerEvent&&/mouse/.test(n.type)){for(let u=0;u<i.length&&!l;u++)l=i[u].pointerType!=="mouse"&&i[u].pointerIsDown;l=l||t.now()-t.prevTouchTime<500||n.timeStamp===0}if(!l){const u={pointer:n,pointerId:$t(n),pointerType:o,eventType:n.type,curEventTarget:s,eventTarget:r,scope:t},c=Xe(u);a.push([u.pointer,u.eventTarget,u.curEventTarget,c])}}for(const[l,u,c,p]of a)p[e](l,n,u,c)}}function Xe(e){const{pointerType:t,scope:n}=e,i={interaction:pi.search(e),searchDetails:e};return n.fire("interactions:find",i),i.interaction||n.interactions.new({pointerType:t})}function Qt({doc:e,scope:t,options:n},i){const{interactions:{docEvents:o},events:r}=t,s=r[i];t.browser.isIOS&&!n.events&&(n.events={passive:!1});for(const l in r.delegatedEvents)s(e,l,r.delegateListener),s(e,l,r.delegateUseCapture,!0);const a=n&&n.events;for(const{type:l,listener:u}of o)s(e,l,u,a)}var di={id:"core/interactions",install(e){const t={};for(const r of Le)t[r]=Ne(r,e);const n=X.pEventTypes;let i;function o(){for(const r of e.interactions.list)if(r.pointerIsDown&&r.pointerType==="touch"&&!r._interacting)for(const s of r.pointers)e.documents.some(({doc:a})=>et(a,s.downTarget))||r.removePointer(s.pointer,s.event)}i=W.PointerEvent?[{type:n.down,listener:o},{type:n.down,listener:t.pointerDown},{type:n.move,listener:t.pointerMove},{type:n.up,listener:t.pointerUp},{type:n.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:o},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}],i.push({type:"blur",listener(r){for(const s of e.interactions.list)s.documentBlur(r)}}),e.prevTouchTime=0,e.Interaction=class extends si{get pointerMoveTolerance(){return e.interactions.pointerMoveTolerance}set pointerMoveTolerance(r){e.interactions.pointerMoveTolerance=r}_now(){return e.now()}},e.interactions={list:[],new(r){r.scopeFire=(a,l)=>e.fire(a,l);const s=new e.Interaction(r);return e.interactions.list.push(s),s},listeners:t,docEvents:i,pointerMoveTolerance:1},e.usePlugin(ui)},listeners:{"scope:add-document":e=>Qt(e,"add"),"scope:remove-document":e=>Qt(e,"remove"),"interactable:unset"({interactable:e},t){for(let n=t.interactions.list.length-1;n>=0;n--){const i=t.interactions.list[n];i.interactable===e&&(i.stop(),t.fire("interactions:destroy",{interaction:i}),i.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(n,1))}}},onDocSignal:Qt,doOnInteractions:Ne,methodNames:Le};class hi{constructor(){this.id="__interact_scope_"+Math.floor(100*Math.random()),this.isInitialized=!1,this.listenerMaps=[],this.browser=X,this.defaults=ut(ke),this.Eventable=ze,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=Zn(this),this.InteractEvent=qt,this.Interactable=void 0,this.interactables=new ti(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=n=>this.removeDocument(n.target);const t=this;this.Interactable=class extends Qn{get _defaults(){return t.defaults}set(n){return super.set(n),t.fire("interactable:set",{options:n,interactable:this}),this}unset(){super.unset(),t.interactables.list.splice(t.interactables.list.indexOf(this),1),t.fire("interactable:unset",{interactable:this})}}}addListeners(t,n){this.listenerMaps.push({id:n,map:t})}fire(t,n){for(const{map:{[t]:i}}of this.listenerMaps)if(i&&i(n,this,t)===!1)return!1}init(t){return this.isInitialized?this:fi(this,t)}pluginIsInstalled(t){return this._plugins.map[t.id]||this._plugins.list.indexOf(t)!==-1}usePlugin(t,n){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,n),t.listeners&&t.before){let i=0;const o=this.listenerMaps.length,r=t.before.reduce((s,a)=>(s[a]=!0,s[Ye(a)]=!0,s),{});for(;i<o;i++){const s=this.listenerMaps[i].id;if(r[s]||r[Ye(s)])break}this.listenerMaps.splice(i,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}addDocument(t,n){if(this.getDocIndex(t)!==-1)return!1;const i=ct(t);n=n?v({},n):{},this.documents.push({doc:t,options:n}),this.events.documents.push(t),t!==this.document&&this.events.add(i,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:i,scope:this,options:n})}removeDocument(t){const n=this.getDocIndex(t),i=ct(t),o=this.documents[n].options;this.events.remove(i,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:t,window:i,scope:this,options:o})}getDocIndex(t){for(let n=0;n<this.documents.length;n++)if(this.documents[n].doc===t)return n;return-1}getDocOptions(t){const n=this.getDocIndex(t);return n===-1?null:this.documents[n].options}now(){return(this.window.Date||Date).now()}}function fi(e,t){return e.isInitialized=!0,h.window(t)&&_e(t),W.init(t),X.init(t),Wn.init(t),e.window=t,e.document=t.document,e.usePlugin(di),e.usePlugin(ni),e}function Ye(e){return e&&e.replace(/\/.*$/,"")}const qe=new hi;var J=qe.interactStatic;const gi=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:globalThis;qe.init(gi);function mi(e){return h.bool(e)?(this.options.styleCursor=e,this):e===null?(delete this.options.styleCursor,this):this.options.styleCursor}function yi(e){return h.func(e)?(this.options.actionChecker=e,this):e===null?(delete this.options.actionChecker,this):this.options.actionChecker}var vi={id:"auto-start/interactableMethods",install(e){const{Interactable:t}=e;t.prototype.getAction=function(n,i,o,r){const s=((a,l,u,c,p)=>{const g=a.getRect(c),m={action:null,interactable:a,interaction:u,element:c,rect:g,buttons:l.buttons||{0:1,1:4,3:8,4:16}[l.button]};return p.fire("auto-start:check",m),m.action})(this,i,o,r,e);return this.options.actionChecker?this.options.actionChecker(n,i,s,this,r,o):s},t.prototype.ignoreFrom=ft(function(n){return this._backCompatOption("ignoreFrom",n)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=ft(function(n){return this._backCompatOption("allowFrom",n)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=yi,t.prototype.styleCursor=mi}};function Ge(e,t,n,i,o){return t.testIgnoreAllow(t.options[e.name],n,i)&&t.options[e.name].enabled&&Ot(t,n,e,o)?e:null}function bi(e,t,n,i,o,r,s){for(let a=0,l=i.length;a<l;a++){const u=i[a],c=o[a],p=u.getAction(t,n,e,c);if(!p)continue;const g=Ge(p,u,c,r,s);if(g)return{action:g,interactable:u,element:c}}return{action:null,interactable:null,element:null}}function Ve(e,t,n,i,o){let r=[],s=[],a=i;function l(u){r.push(u),s.push(a)}for(;h.element(a);){r=[],s=[],o.interactables.forEachMatch(a,l);const u=bi(e,t,n,r,s,i,o);if(u.action&&!u.interactable.options[u.action.name].manualStart)return u;a=nt(a)}return{action:null,interactable:null,element:null}}function Ue(e,{action:t,interactable:n,element:i},o){t=t||{name:null},e.interactable=n,e.element=i,Fe(e.prepared,t),e.rect=n&&t.name?n.getRect(i):null,Je(e,o),o.fire("autoStart:prepared",{interaction:e})}function Ot(e,t,n,i){const o=e.options,r=o[n.name].max,s=o[n.name].maxPerElement,a=i.autoStart.maxInteractions;let l=0,u=0,c=0;if(!(r&&s&&a))return!1;for(const p of i.interactions.list){const g=p.prepared.name;if(p.interacting()&&(l++,l>=a||p.interactable===e&&(u+=g===n.name?1:0,u>=r||p.element===t&&(c++,g===n.name&&c>=s))))return!1}return a>0}function Ke(e,t){return h.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function te(e,t,n){const{cursorElement:i}=n.autoStart;i&&i!==e&&(i.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,n.autoStart.cursorElement=t?e:null}function Je(e,t){const{interactable:n,element:i,prepared:o}=e;if(e.pointerType!=="mouse"||!n||!n.options.styleCursor)return void(t.autoStart.cursorElement&&te(t.autoStart.cursorElement,"",t));let r="";if(o.name){const s=n.options[o.name].cursorChecker;r=h.func(s)?s(o,n,i,e._interacting):t.actions.map[o.name].getCursor(o)}te(e.element,r||"",t)}var ee={id:"auto-start/base",before:["actions"],install(e){const{interactStatic:t,defaults:n}=e;e.usePlugin(vi),n.base.actionChecker=null,n.base.styleCursor=!0,v(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=i=>Ke(i,e),e.autoStart={maxInteractions:1/0,withinInteractionLimit:Ot,cursorElement:null}},listeners:{"interactions:down"({interaction:e,pointer:t,event:n,eventTarget:i},o){e.interacting()||Ue(e,Ve(e,t,n,i,o),o)},"interactions:move"(e,t){(({interaction:n,pointer:i,event:o,eventTarget:r},s)=>{n.pointerType!=="mouse"||n.pointerIsDown||n.interacting()||Ue(n,Ve(n,i,o,r,s),s)})(e,t),((n,i)=>{const{interaction:o}=n;if(!o.pointerIsDown||o.interacting()||!o.pointerWasMoved||!o.prepared.name)return;i.fire("autoStart:before-start",n);const{interactable:r}=o,s=o.prepared.name;s&&r&&(r.options[s].manualStart||!Ot(r,o.element,o.prepared,i)?o.stop():(o.start(o.prepared,r,o.element),Je(o,i)))})(e,t)},"interactions:stop"({interaction:e},t){const{interactable:n}=e;n&&n.options.styleCursor&&te(e.element,"",t)}},maxInteractions:Ke,withinInteractionLimit:Ot,validateAction:Ge},xi={id:"auto-start/dragAxis",listeners:{"autoStart:before-start"({interaction:e,eventTarget:t,dx:n,dy:i},o){if(e.prepared.name!=="drag")return;const r=Math.abs(n),s=Math.abs(i),a=e.interactable.options.drag,l=a.startAxis,u=r>s?"x":r<s?"y":"xy";if(e.prepared.axis=a.lockAxis==="start"?u[0]:a.lockAxis,u!=="xy"&&l!=="xy"&&l!==u){e.prepared.name=null;let c=t;const p=g=>{if(g===e.interactable)return;const m=e.interactable.options.drag;if(!m.manualStart&&g.testIgnoreAllow(m,c,t)){const w=g.getAction(e.downPointer,e.downEvent,e,c);if(w&&w.name==="drag"&&((_,b)=>{if(!b)return!1;const E=b.options.drag.startAxis;return _==="xy"||E==="xy"||E===_})(u,g)&&ee.validateAction(w,g,c,t,o))return g}};for(;h.element(c);){const g=o.interactables.forEachMatch(c,p);if(g){e.prepared.name="drag",e.interactable=g,e.element=c;break}c=nt(c)}}}}};function ne(e){const t=e.prepared&&e.prepared.name;if(!t)return null;const n=e.interactable.options;return n[t].hold||n[t].delay}var wi={id:"auto-start/hold",install(e){const{defaults:t}=e;e.usePlugin(ee),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new"({interaction:e}){e.autoStartHoldTimer=null},"autoStart:prepared"({interaction:e}){const t=ne(e);t>0&&(e.autoStartHoldTimer=setTimeout(()=>{e.start(e.prepared,e.interactable,e.element)},t))},"interactions:move"({interaction:e,duplicate:t}){e.autoStartHoldTimer&&e.pointerWasMoved&&!t&&(clearTimeout(e.autoStartHoldTimer),e.autoStartHoldTimer=null)},"autoStart:before-start"({interaction:e}){ne(e)>0&&(e.prepared.name=null)}},getHoldDuration:ne},_i={id:"auto-start",install(e){e.usePlugin(ee),e.usePlugin(wi),e.usePlugin(xi)}};J.use(_i);function ie({interaction:e}){if(e.prepared.name!=="drag")return;const t=e.prepared.axis;t==="x"?(e.coords.cur.page.y=e.coords.start.page.y,e.coords.cur.client.y=e.coords.start.client.y,e.coords.velocity.client.y=0,e.coords.velocity.page.y=0):t==="y"&&(e.coords.cur.page.x=e.coords.start.page.x,e.coords.cur.client.x=e.coords.start.client.x,e.coords.velocity.client.x=0,e.coords.velocity.page.x=0)}function Ze({iEvent:e,interaction:t}){if(t.prepared.name!=="drag")return;const n=t.prepared.axis;if(n==="x"||n==="y"){const i=n==="x"?"y":"x";e.page[i]=t.coords.start.page[i],e.client[i]=t.coords.start.client[i],e.delta[i]=0}}const Dt={id:"actions/drag",install(e){const{actions:t,Interactable:n,defaults:i}=e;n.prototype.draggable=Dt.draggable,t.map.drag=Dt,t.methodDict.drag="draggable",i.actions.drag=Dt.defaults},listeners:{"interactions:before-action-move":ie,"interactions:action-resume":ie,"interactions:action-move":Ze,"auto-start:check"(e){const{interaction:t,interactable:n,buttons:i}=e,o=n.options.drag;if(o&&o.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||(i&n.options.drag.mouseButtons)!=0))return e.action={name:"drag",axis:o.lockAxis==="start"?o.startAxis:o.lockAxis},!1}},draggable(e){return h.object(e)?(this.options.drag.enabled=e.enabled!==!1,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):h.bool(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:ie,move:Ze,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor(){return"move"}};var Ei=Dt;J.use(Ei);function Si(e,t,n,i,o,r,s){if(!t)return!1;if(t===!0){const a=h.number(r.width)?r.width:r.right-r.left,l=h.number(r.height)?r.height:r.bottom-r.top;if(s=Math.min(s,Math.abs((e==="left"||e==="right"?a:l)/2)),a<0&&(e==="left"?e="right":e==="right"&&(e="left")),l<0&&(e==="top"?e="bottom":e==="bottom"&&(e="top")),e==="left")return n.x<(a>=0?r.left:r.right)+s;if(e==="top")return n.y<(l>=0?r.top:r.bottom)+s;if(e==="right")return n.x>(a>=0?r.right:r.left)-s;if(e==="bottom")return n.y>(l>=0?r.bottom:r.top)-s}return!!h.element(i)&&(h.element(t)?t===i:Lt(i,t,o))}function Qe({iEvent:e,interaction:t}){if(t.prepared.name!=="resize"||!t.resizeAxes)return;const n=e;t.interactable.options.resize.square?(t.resizeAxes==="y"?n.delta.x=n.delta.y:n.delta.y=n.delta.x,n.axes="xy"):(n.axes=t.resizeAxes,t.resizeAxes==="x"?n.delta.y=0:t.resizeAxes==="y"&&(n.delta.x=0))}const U={id:"actions/resize",before:["actions/drag"],install(e){const{actions:t,browser:n,Interactable:i,defaults:o}=e;U.cursors=(r=>r.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"})(n),U.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,i.prototype.resizable=function(r){return((s,a,l)=>h.object(a)?(s.options.resize.enabled=a.enabled!==!1,s.setPerAction("resize",a),s.setOnEvents("resize",a),h.string(a.axis)&&/^x$|^y$|^xy$/.test(a.axis)?s.options.resize.axis=a.axis:a.axis===null&&(s.options.resize.axis=l.defaults.actions.resize.axis),h.bool(a.preserveAspectRatio)?s.options.resize.preserveAspectRatio=a.preserveAspectRatio:h.bool(a.square)&&(s.options.resize.square=a.square),s):h.bool(a)?(s.options.resize.enabled=a,s):s.options.resize)(this,r,e)},t.map.resize=U,t.methodDict.resize="resizable",o.actions.resize=U.defaults},listeners:{"interactions:new"({interaction:e}){e.resizeAxes="xy"},"interactions:action-start"(e){(({iEvent:t,interaction:n})=>{if(n.prepared.name!=="resize"||!n.prepared.edges)return;const i=t,o=n.rect;n._rects={start:v({},o),corrected:v({},o),previous:v({},o),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},i.edges=n.prepared.edges,i.rect=n._rects.corrected,i.deltaRect=n._rects.delta})(e),Qe(e)},"interactions:action-move"(e){(({iEvent:t,interaction:n})=>{if(n.prepared.name!=="resize"||!n.prepared.edges)return;const i=t,o=n.interactable.options.resize.invert,r=o==="reposition"||o==="negate",s=n.rect,{start:a,corrected:l,delta:u,previous:c}=n._rects;if(v(c,l),r){if(v(l,s),o==="reposition"){if(l.top>l.bottom){const p=l.top;l.top=l.bottom,l.bottom=p}if(l.left>l.right){const p=l.left;l.left=l.right,l.right=p}}}else l.top=Math.min(s.top,a.bottom),l.bottom=Math.max(s.bottom,a.top),l.left=Math.min(s.left,a.right),l.right=Math.max(s.right,a.left);l.width=l.right-l.left,l.height=l.bottom-l.top;for(const p in l)u[p]=l[p]-c[p];i.edges=n.prepared.edges,i.rect=l,i.deltaRect=u})(e),Qe(e)},"interactions:action-end"({iEvent:e,interaction:t}){if(t.prepared.name!=="resize"||!t.prepared.edges)return;const n=e;n.edges=t.prepared.edges,n.rect=t._rects.corrected,n.deltaRect=t._rects.delta},"auto-start:check"(e){const{interaction:t,interactable:n,element:i,rect:o,buttons:r}=e;if(!o)return;const s=v({},t.coords.cur.page),a=n.options.resize;if(a&&a.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||(r&a.mouseButtons)!=0)){if(h.object(a.edges)){const l={left:!1,right:!1,top:!1,bottom:!1};for(const u in l)l[u]=Si(u,a.edges[u],s,t._latestPointer.eventTarget,i,o,a.margin||U.defaultMargin);l.left=l.left&&!l.right,l.top=l.top&&!l.bottom,(l.left||l.right||l.top||l.bottom)&&(e.action={name:"resize",edges:l})}else{const l=a.axis!=="y"&&s.x>o.right-U.defaultMargin,u=a.axis!=="x"&&s.y>o.bottom-U.defaultMargin;(l||u)&&(e.action={name:"resize",axes:(l?"x":"")+(u?"y":"")})}return!e.action&&void 0}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor({edges:e,axis:t,name:n}){const i=U.cursors;let o=null;if(t)o=i[n+t];else if(e){let r="";for(const s of["top","bottom","left","right"])e[s]&&(r+=s);o=i[r]}return o},defaultMargin:null};var Ti=U;J.use(Ti);var Mi=()=>{},Pi=()=>{},Ii=e=>{const t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(([i,o])=>i in e||o in e),n=(i,o)=>{const{range:r,limits:s={left:-1/0,right:1/0,top:-1/0,bottom:1/0},offset:a={x:0,y:0}}=e,l={range:r,grid:e,x:null,y:null};for(const[u,c]of t){const p=Math.round((i-a.x)/e[u]),g=Math.round((o-a.y)/e[c]);l[u]=Math.max(s.left,Math.min(s.right,p*e[u]+a.x)),l[c]=Math.max(s.top,Math.min(s.bottom,g*e[c]+a.y))}return l};return n.grid=e,n.coordFields=t,n},zi=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",edgeTarget:Mi,elements:Pi,grid:Ii}),$i={id:"snappers",install(e){const{interactStatic:t}=e;t.snappers=v(t.snappers||{},zi),t.createSnapGrid=t.snappers.grid}};class tn{constructor(t){this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=t,this.result=Ct()}start({phase:t},n){const{interaction:i}=this,o=(s=>{const a=s.interactable.options[s.prepared.name],l=a.modifiers;return l&&l.length?l:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(u=>{const c=a[u];return c&&c.enabled&&{options:c,methods:c._methods}}).filter(u=>!!u)})(i);this.prepareStates(o),this.edges=v({},i.edges),this.startOffset=Oi(i.rect,n),this.startDelta={x:0,y:0};const r=this.fillArg({phase:t,pageCoords:n,preEnd:!1});return this.result=Ct(),this.startAll(r),this.result=this.setAll(r)}fillArg(t){const{interaction:n}=this;return t.interaction=n,t.interactable=n.interactable,t.element=n.element,t.rect=t.rect||n.rect,t.edges=this.edges,t.startOffset=this.startOffset,t}startAll(t){for(const n of this.states)n.methods.start&&(t.state=n,n.methods.start(t))}setAll(t){const{phase:n,preEnd:i,skipModifiers:o,rect:r}=t;t.coords=v({},t.pageCoords),t.rect=v({},r);const s=o?this.states.slice(o):this.states,a=Ct(t.coords,t.rect);for(const p of s){var l;const{options:g}=p,m=v({},t.coords);let w=null;(l=p.methods)!=null&&l.set&&this.shouldDo(g,i,n)&&(t.state=p,w=p.methods.set(t),Xt(this.interaction.edges,t.rect,{x:t.coords.x-m.x,y:t.coords.y-m.y})),a.eventProps.push(w)}a.delta.x=t.coords.x-t.pageCoords.x,a.delta.y=t.coords.y-t.pageCoords.y,a.rectDelta.left=t.rect.left-r.left,a.rectDelta.right=t.rect.right-r.right,a.rectDelta.top=t.rect.top-r.top,a.rectDelta.bottom=t.rect.bottom-r.bottom;const u=this.result.coords,c=this.result.rect;if(u&&c){const p=a.rect.left!==c.left||a.rect.right!==c.right||a.rect.top!==c.top||a.rect.bottom!==c.bottom;a.changed=p||u.x!==a.coords.x||u.y!==a.coords.y}return a}applyToInteraction(t){const{interaction:n}=this,{phase:i}=t,o=n.coords.cur,r=n.coords.start,{result:s,startDelta:a}=this,l=s.delta;i==="start"&&v(this.startDelta,s.delta);for(const[p,g]of[[r,a],[o,l]])p.page.x+=g.x,p.page.y+=g.y,p.client.x+=g.x,p.client.y+=g.y;const{rectDelta:u}=this.result,c=t.rect||n.rect;c.left+=u.left,c.right+=u.right,c.top+=u.top,c.bottom+=u.bottom,c.width=c.right-c.left,c.height=c.bottom-c.top}setAndApply(t){const{interaction:n}=this,{phase:i,preEnd:o,skipModifiers:r}=t,s=this.setAll(this.fillArg({preEnd:o,phase:i,pageCoords:t.modifiedCoords||n.coords.cur.page}));if(this.result=s,!s.changed&&(!r||r<this.states.length)&&n.interacting())return!1;if(t.modifiedCoords){const{page:a}=n.coords.cur,l={x:t.modifiedCoords.x-a.x,y:t.modifiedCoords.y-a.y};s.coords.x+=l.x,s.coords.y+=l.y,s.delta.x+=l.x,s.delta.y+=l.y}this.applyToInteraction(t)}beforeEnd(t){const{interaction:n,event:i}=t,o=this.states;if(!o||!o.length)return;let r=!1;for(const s of o){t.state=s;const{options:a,methods:l}=s,u=l.beforeEnd&&l.beforeEnd(t);if(u)return this.endResult=u,!1;r=r||!r&&this.shouldDo(a,!0,t.phase,!0)}r&&n.move({event:i,preEnd:!0})}stop(t){const{interaction:n}=t;if(!this.states||!this.states.length)return;const i=v({states:this.states,interactable:n.interactable,element:n.element,rect:null},t);this.fillArg(i);for(const o of this.states)i.state=o,o.methods.stop&&o.methods.stop(i);this.states=null,this.endResult=null}prepareStates(t){this.states=[];for(let n=0;n<t.length;n++){const{options:i,methods:o,name:r}=t[n];this.states.push({options:i,methods:o,index:n,name:r})}return this.states}restoreInteractionCoords({interaction:{coords:t,rect:n,modification:i}}){if(!i.result)return;const{startDelta:o}=i,{delta:r,rectDelta:s}=i.result,a=[[t.start,o],[t.cur,r]];for(const[l,u]of a)l.page.x-=u.x,l.page.y-=u.y,l.client.x-=u.x,l.client.y-=u.y;n.left-=s.left,n.right-=s.right,n.top-=s.top,n.bottom-=s.bottom}shouldDo(t,n,i,o){return!(!t||t.enabled===!1||o&&!t.endOnly||t.endOnly&&!n||i==="start"&&!t.setStart)}copyFrom(t){this.startOffset=t.startOffset,this.startDelta=t.startDelta,this.edges=t.edges,this.states=t.states.map(n=>ut(n)),this.result=Ct(v({},t.result.coords),v({},t.result.rect))}destroy(){for(const t in this)this[t]=null}}function Ct(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function Oi(e,t){return e?{left:t.x-e.left,top:t.y-e.top,right:e.right-t.x,bottom:e.bottom-t.y}:{left:0,top:0,right:0,bottom:0}}function Z(e,t){const{defaults:n}=e,i={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},o=r=>{const s=r||{};s.enabled=s.enabled!==!1;for(const l in n)l in s||(s[l]=n[l]);const a={options:s,methods:i,name:t,enable:()=>(s.enabled=!0,a),disable:()=>(s.enabled=!1,a)};return a};return t&&typeof t=="string"&&(o._defaults=n,o._methods=i),o}function oe({iEvent:e,interaction:t}){const n=t.modification.result;n&&(e.modifiers=n.eventProps)}var Di={id:"modifiers/base",before:["actions"],install(e){e.defaults.perAction.modifiers=[]},listeners:{"interactions:new"({interaction:e}){e.modification=new tn(e)},"interactions:before-action-start"(e){const t=e.interaction.modification;t.start(e,e.interaction.coords.start.page),e.interaction.edges=t.edges,t.applyToInteraction(e)},"interactions:before-action-move":e=>e.interaction.modification.setAndApply(e),"interactions:before-action-end":e=>e.interaction.modification.beforeEnd(e),"interactions:action-start":oe,"interactions:action-move":oe,"interactions:action-end":oe,"interactions:after-action-start":e=>e.interaction.modification.restoreInteractionCoords(e),"interactions:after-action-move":e=>e.interaction.modification.restoreInteractionCoords(e),"interactions:stop":e=>e.interaction.modification.stop(e)}};const Ci={start(e){const{state:t,rect:n,edges:i,pageCoords:o}=e;let{ratio:r}=t.options;const{equalDelta:s,modifiers:a}=t.options;r==="preserve"&&(r=n.width/n.height),t.startCoords=v({},o),t.startRect=v({},n),t.ratio=r,t.equalDelta=s;const l=t.linkedEdges={top:i.top||i.left&&!i.bottom,left:i.left||i.top&&!i.right,bottom:i.bottom||i.right&&!i.top,right:i.right||i.bottom&&!i.left};if(t.xIsPrimaryAxis=!(!i.left&&!i.right),t.equalDelta)t.edgeSign=(l.left?1:-1)*(l.top?1:-1);else{const c=t.xIsPrimaryAxis?l.top:l.left;t.edgeSign=c?-1:1}if(v(e.edges,l),!a||!a.length)return;const u=new tn(e.interaction);u.copyFrom(e.interaction.modification),u.prepareStates(a),t.subModification=u,u.startAll(Ft({},e))},set(e){const{state:t,rect:n,coords:i}=e,o=v({},i),r=t.equalDelta?Ri:Ai;if(r(t,t.xIsPrimaryAxis,i,n),!t.subModification)return null;const s=v({},n);Xt(t.linkedEdges,s,{x:i.x-o.x,y:i.y-o.y});const a=t.subModification.setAll(ue(Ft({},e),{rect:s,edges:t.linkedEdges,pageCoords:i,prevCoords:i,prevRect:s})),{delta:l}=a;return a.changed&&(r(t,Math.abs(l.x)>Math.abs(l.y),a.coords,a.rect),v(i,a.coords)),a.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Ri({startCoords:e,edgeSign:t},n,i){n?i.y=e.y+(i.x-e.x)*t:i.x=e.x+(i.y-e.y)*t}function Ai({startRect:e,startCoords:t,ratio:n,edgeSign:i},o,r,s){if(o){const a=s.width/n;r.y=t.y+(a-e.height)*i}else{const a=s.height*n;r.x=t.x+(a-e.width)*i}}var ki=Z(Ci,"aspectRatio");const en=()=>{};en._defaults={};var Rt=en;function ot(e,t,n){return h.func(e)?ht(e,t.interactable,t.element,[n.x,n.y,t]):ht(e,t.interactable,t.element)}const At={start({rect:e,startOffset:t,state:n,interaction:i,pageCoords:o}){const{options:r}=n,{elementRect:s}=r,a=v({left:0,top:0,right:0,bottom:0},r.offset||{});if(e&&s){const l=ot(r.restriction,i,o);if(l){const u=l.right-l.left-e.width,c=l.bottom-l.top-e.height;u<0&&(a.left+=u,a.right+=u),c<0&&(a.top+=c,a.bottom+=c)}a.left+=t.left-e.width*s.left,a.top+=t.top-e.height*s.top,a.right+=t.right-e.width*(1-s.right),a.bottom+=t.bottom-e.height*(1-s.bottom)}n.offset=a},set({coords:e,interaction:t,state:n}){const{options:i,offset:o}=n,r=ot(i.restriction,t,e);if(!r)return;const s=Hn(r);e.x=Math.max(Math.min(s.right-o.right,e.x),s.left+o.left),e.y=Math.max(Math.min(s.bottom-o.bottom,e.y),s.top+o.top)},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};var Fi=Z(At,"restrict");const nn={top:1/0,left:1/0,bottom:-1/0,right:-1/0},on={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function rn(e,t){for(const n of["top","left","bottom","right"])n in e||(e[n]=t[n]);return e}const yt={noInner:nn,noOuter:on,start({interaction:e,startOffset:t,state:n}){const{options:i}=n;let o;if(i){const r=ot(i.offset,e,e.coords.start.page);o=Mt(r)}o=o||{x:0,y:0},n.offset={top:o.y+t.top,left:o.x+t.left,bottom:o.y-t.bottom,right:o.x-t.right}},set({coords:e,edges:t,interaction:n,state:i}){const{offset:o,options:r}=i;if(!t)return;const s=v({},e),a=ot(r.inner,n,s)||{},l=ot(r.outer,n,s)||{};rn(a,nn),rn(l,on),t.top?e.y=Math.min(Math.max(l.top+o.top,s.y),a.top+o.top):t.bottom&&(e.y=Math.max(Math.min(l.bottom+o.bottom,s.y),a.bottom+o.bottom)),t.left?e.x=Math.min(Math.max(l.left+o.left,s.x),a.left+o.left):t.right&&(e.x=Math.max(Math.min(l.right+o.right,s.x),a.right+o.right))},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};var Wi=Z(yt,"restrictEdges");const ji=v({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},At.defaults),Bi={start:At.start,set:At.set,defaults:ji};var Hi=Z(Bi,"restrictRect");const Li={width:-1/0,height:-1/0},Ni={width:1/0,height:1/0};var Xi=Z({start:e=>yt.start(e),set(e){const{interaction:t,state:n,rect:i,edges:o}=e,{options:r}=n;if(!o)return;const s=Re(ot(r.min,t,e.coords))||Li,a=Re(ot(r.max,t,e.coords))||Ni;n.options={endOnly:r.endOnly,inner:v({},yt.noInner),outer:v({},yt.noOuter)},o.top?(n.options.inner.top=i.bottom-s.height,n.options.outer.top=i.bottom-a.height):o.bottom&&(n.options.inner.bottom=i.top+s.height,n.options.outer.bottom=i.top+a.height),o.left?(n.options.inner.left=i.right-s.width,n.options.outer.left=i.right-a.width):o.right&&(n.options.inner.right=i.left+s.width,n.options.outer.right=i.left+a.width),yt.set(e),n.options=r},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize");const re={start(e){const{interaction:t,interactable:n,element:i,rect:o,state:r,startOffset:s}=e,{options:a}=r,l=a.offsetWithOrigin?(p=>{const{element:g}=p.interaction;return Mt(ht(p.state.options.origin,null,null,[g]))||Yt(p.interactable,g,p.interaction.prepared.name)})(e):{x:0,y:0};let u;if(a.offset==="startCoords")u={x:t.coords.start.page.x,y:t.coords.start.page.y};else{const p=ht(a.offset,n,i,[t]);u=Mt(p)||{x:0,y:0},u.x+=l.x,u.y+=l.y}const{relativePoints:c}=a;r.offsets=o&&c&&c.length?c.map((p,g)=>({index:g,relativePoint:p,x:s.left-o.width*p.x+u.x,y:s.top-o.height*p.y+u.y})):[{index:0,relativePoint:null,x:u.x,y:u.y}]},set(e){const{interaction:t,coords:n,state:i}=e,{options:o,offsets:r}=i,s=Yt(t.interactable,t.element,t.prepared.name),a=v({},n),l=[];o.offsetWithOrigin||(a.x-=s.x,a.y-=s.y);for(const c of r){const p=a.x-c.x,g=a.y-c.y;for(let m=0,w=o.targets.length;m<w;m++){const _=o.targets[m];let b;b=h.func(_)?_(p,g,t._proxy,c,m):_,b&&l.push({x:(h.number(b.x)?b.x:p)+c.x,y:(h.number(b.y)?b.y:g)+c.y,range:h.number(b.range)?b.range:o.range,source:_,index:m,offset:c})}}const u={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}};for(const c of l){const p=c.range,g=c.x-a.x,m=c.y-a.y,w=Pt(g,m);let _=w<=p;p===1/0&&u.inRange&&u.range!==1/0&&(_=!1),u.target&&!(_?u.inRange&&p!==1/0?w/p<u.distance/u.range:p===1/0&&u.range!==1/0||w<u.distance:!u.inRange&&w<u.distance)||(u.target=c,u.distance=w,u.range=p,u.inRange=_,u.delta.x=g,u.delta.y=m)}return u.inRange&&(n.x=u.target.x,n.y=u.target.y),i.closest=u,u},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};var Yi=Z(re,"snap");const kt={start(e){const{state:t,edges:n}=e,{options:i}=t;if(!n)return null;e.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:i.offset||"self",origin:{x:0,y:0},range:i.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],re.start(e),t.offsets=e.state.offsets,e.state=t},set(e){const{interaction:t,state:n,coords:i}=e,{options:o,offsets:r}=n,s={x:i.x-r[0].x,y:i.y-r[0].y};n.options=v({},o),n.options.targets=[];for(const l of o.targets||[]){let u;if(u=h.func(l)?l(s.x,s.y,t):l,u){for(const[c,p]of n.targetFields)if(c in u||p in u){u.x=u[c],u.y=u[p];break}n.options.targets.push(u)}}const a=re.set(e);return n.options=o,a},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};var qi=Z(kt,"snapSize");const Gi={start(e){const{edges:t}=e;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],kt.start(e)):null},set:kt.set,defaults:v(ut(kt.defaults),{targets:null,range:null,offset:{x:0,y:0}})};var Vi=Z(Gi,"snapEdges"),se={aspectRatio:ki,restrictEdges:Wi,restrict:Fi,restrictRect:Hi,restrictSize:Xi,snapEdges:Vi,snap:Yi,snapSize:qi,spring:Rt,avoid:Rt,transform:Rt,rubberband:Rt},Ui={id:"modifiers",install(e){const{interactStatic:t}=e;e.usePlugin(Di),e.usePlugin($i),t.modifiers=se;for(const n in se){const{_defaults:i,_methods:o}=se[n];i._methods=o,e.defaults.perAction[n]=i}}};J.use(Ui);var vt;(e=>{e.touchAction="touchAction",e.boxSizing="boxSizing",e.noListeners="noListeners"})(vt||(vt={})),vt.touchAction,vt.boxSizing,vt.noListeners;var Ki={id:"dev-tools",install(){}};J.use(Ki);var Co="",sn=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n},ae=sn(d.defineComponent({props:{isDraggable:{type:Boolean,required:!1,default:null},isResizable:{type:Boolean,required:!1,default:null},static:{type:Boolean,required:!1,default:!1},minH:{type:Number,required:!1,default:1},minW:{type:Number,required:!1,default:1},maxH:{type:Number,required:!1,default:1/0},maxW:{type:Number,required:!1,default:1/0},x:{type:Number,required:!0},y:{type:Number,required:!0},w:{type:Number,required:!0},h:{type:Number,required:!0},i:{type:String,required:!0},dragIgnoreFrom:{type:String,required:!1,default:"a, button"},dragAllowFrom:{type:String,required:!1,default:null},resizeIgnoreFrom:{type:String,required:!1,default:"a, button"},preserveAspectRatio:{type:Boolean,required:!1,default:!1}},emits:["container-resized","resize","resized","move","moved"],setup(e,{emit:t}){const n=e,i=d.inject("eventBus"),o=d.inject("layout"),r=d.ref(null);let s=null,a=d.ref(1),l=d.ref(100),u=d.ref(30),c=[10,10],p=1/0,g=d.ref(null),m=d.ref(null),w=!0,_=!0,b=d.ref(!1),E=null,P=d.ref(!1),M=null,N=NaN,S=NaN,$=NaN,C=NaN;const j=d.ref({});let q=!1,Y=!1,rt=null,I=null,dt=null,xt=null,R=n.x,F=n.y,A=n.w,K=n.h;const fn=d.computed(()=>m.value&&!n.static),co=d.computed(()=>navigator.userAgent.toLowerCase().indexOf("android")!==-1),uo=d.computed(()=>(g.value||m.value)&&!n.static),po=d.computed(()=>({"vue-resizable":fn.value,static:n.static,resizing:P.value,"vue-draggable-dragging":b.value,cssTransforms:w,"render-rtl":o.isMirrored,"disable-userselect":b.value,"no-touch":co.value&&uo.value})),ho=d.computed(()=>o.isMirrored?"vue-resizable-handle vue-rtl-resizable-handle":"vue-resizable-handle");d.watch(()=>n.isDraggable,f=>{g.value=f}),d.watch(()=>n.static,()=>{En(),_t()}),d.watch(()=>o.useStyleCursor,()=>{s&&s.styleCursor(o.useStyleCursor)}),d.watch(g,()=>{En()}),d.watch(()=>n.isResizable,f=>{m.value=f}),d.watch(m,()=>{_t()}),d.watch(u,()=>{G(),le()}),d.watch([l,a],()=>{_t(),G(),le()}),d.watch(()=>n.x,f=>{R=f,G()}),d.watch(()=>n.y,f=>{F=f,G()}),d.watch(()=>n.h,f=>{K=f,G()}),d.watch(()=>n.w,f=>{A=f,G()}),d.watch(()=>o.isMirrored,()=>{_t(),G()}),d.watch([()=>n.minH,()=>n.maxH,()=>n.minW,()=>n.maxW],()=>{_t()}),d.watch(()=>o.margin,()=>{!c||c[0]==c[0]&&c[1]==c[1]||(c=c.map(f=>Number(f)),G(),le())});const gn=f=>{yo(f.width)},mn=()=>{vo()},yn=f=>{n.isDraggable===null&&(g.value=f.isDraggable)},vn=f=>{n.isResizable===null&&(m.value=f.isResizable)},bn=f=>{u.value=f.rowHeight},xn=f=>{p=f.maxRows},wn=f=>{a.value=f.colNum};i.on("updateWidth",gn),i.on("compact",mn),i.on("setDraggable",yn),i.on("setResizable",vn),i.on("setRowHeight",bn),i.on("setMaxRows",xn),i.on("setColNum",wn),d.onBeforeUnmount(()=>{i.off("updateWidth",gn),i.off("compact",mn),i.off("setDraggable",yn),i.off("setResizable",vn),i.off("setRowHeight",bn),i.off("setMaxRows",xn),i.off("setColNum",wn),s&&s.unset()}),d.onMounted(()=>{o.responsive&&o.lastBreakpoint?a.value=Bt(o.lastBreakpoint,o.cols):a.value=o.colNum,u.value=o.rowHeight,c=o.margin?o.margin:[10,10],p=o.maxRows,n.isDraggable===null?g.value=o.isDraggable:g.value=n.isDraggable,n.isResizable===null?m.value=o.isResizable:m.value=n.isResizable,w=o.useCssTransforms,_=o.useStyleCursor,G()});const G=()=>{n.x+n.w>a.value?(R=0,A=n.w>a.value?a.value:n.w):(R=n.x,A=n.w);let f=wt(R,F,A,K);b.value&&E&&(f.top=E.top,o.isMirrored?f.right=E.left:f.left=E.left),P.value&&M&&(f.width=M.width,f.height=M.height);let T;w?o.isMirrored?T=$n(f.top,f.right,f.width,f.height):T=zn(f.top,f.left,f.width,f.height):o.isMirrored?T=Dn(f.top,f.right,f.width,f.height):T=On(f.top,f.left,f.width,f.height),j.value=T},le=()=>{let f={width:0,height:0};for(let T of Object.keys(f)){let z=j.value[T].match(/^(\d+)px$/);if(!z)return;f[T]=z[1]}t("container-resized",n.i,n.h,n.w,f.height,f.width)},fo=f=>{if(n.static)return;const T=ye(f);if(T==null)return;const{x:O,y:z}=T,x={width:0,height:0};let y;switch(f.type){case"resizestart":{rt=A,I=K,y=wt(R,F,A,K),x.width=y.width,x.height=y.height,M=x,P.value=!0;break}case"resizemove":{if(M){const k=ve($,C,O,z);o.isMirrored?x.width=M.width-k.deltaX:x.width=M.width+k.deltaX,x.height=M.height+k.deltaY,M=x}break}case"resizeend":{y=wt(R,F,A,K),x.width=y.width,x.height=y.height,M=null,P.value=!1;break}}y=mo(x.height,x.width),y.w<n.minW&&(y.w=n.minW),y.w>n.maxW&&(y.w=n.maxW),y.h<n.minH&&(y.h=n.minH),y.h>n.maxH&&(y.h=n.maxH),y.h<1&&(y.h=1),y.w<1&&(y.w=1),$=O,C=z,(A!==y.w||K!==y.h)&&t("resize",n.i,y.h,y.w,x.height,x.width),f.type==="resizeend"&&(rt!==A||I!==K)&&t("resized",n.i,y.h,y.w,x.height,x.width),i==null||i.emit("resizeItem",{eventType:f.type,i:n.i,x:R,y:F,h:y.h,w:y.w})},go=f=>{if(n.static||P.value)return;const T=ye(f);if(T===null)return;const{x:O,y:z}=T;let x={top:0,left:0};switch(f.type){case"dragstart":{dt=R,xt=F;let k=f.target.offsetParent.getBoundingClientRect(),st=f.target.getBoundingClientRect();o.isMirrored?x.left=(st.right-k.right)*-1:x.left=st.left-k.left,x.top=st.top-k.top,E=x,b.value=!0;break}case"dragend":{if(!b.value)return;let k=f.target.offsetParent.getBoundingClientRect(),st=f.target.getBoundingClientRect();o.isMirrored?x.left=(st.right-k.right)*-1:x.left=st.left-k.left,x.top=st.top-k.top,E=null,b.value=!1;break}case"dragmove":{const k=ve(N,S,O,z);E&&(o.isMirrored?x.left=E.left-k.deltaX:x.left=E.left+k.deltaX,x.top=E.top+k.deltaY,E=x);break}}let y;o.isMirrored,y=_n(x.top,x.left),N=O,S=z,(R!==y.x||F!==y.y)&&t("move",n.i,y.x,y.y),f.type==="dragend"&&(dt!==R||xt!==F)&&t("moved",n.i,y.x,y.y),i==null||i.emit("dragItem",{eventType:f.type,i:n.i,x:y.x,y:y.y,h:K,w:A})},wt=(f,T,O,z)=>{const x=ce();let y;return o.isMirrored?y={right:Math.round(x*f+(f+1)*c[0]),top:Math.round(u.value*T+(T+1)*c[1]),width:O===1/0?O:Math.round(x*O+Math.max(0,O-1)*c[0]),height:z===1/0?z:Math.round(u.value*z+Math.max(0,z-1)*c[1])}:y={left:Math.round(x*f+(f+1)*c[0]),top:Math.round(u.value*T+(T+1)*c[1]),width:O===1/0?O:Math.round(x*O+Math.max(0,O-1)*c[0]),height:z===1/0?z:Math.round(u.value*z+Math.max(0,z-1)*c[1])},y},_n=(f,T)=>{const O=ce();let z=Math.round((T-c[0])/(O+c[0])),x=Math.round((f-c[1])/(u.value+c[1]));return z=Math.max(Math.min(z,a.value-A),0),x=Math.max(Math.min(x,p-K),0),{x:z,y:x}},ce=()=>(l.value-c[0]*(a.value+1))/a.value,mo=(f,T,O=!1)=>{const z=ce();let x=Math.round((T+c[0])/(z+c[0])),y=0;return O?y=Math.ceil((f+c[1])/(u.value+c[1])):y=Math.round((f+c[1])/(u.value+c[1])),x=Math.max(Math.min(x,a.value-R),0),y=Math.max(Math.min(y,p-F),0),{w:x,h:y}},yo=(f,T=null)=>{l.value=f,T!=null&&(a.value=T)},vo=()=>{G()},En=()=>{if(s==null&&(s=J(r.value)),g.value&&!n.static){const f={ignoreFrom:n.dragIgnoreFrom,allowFrom:n.dragAllowFrom};s.draggable(f),q||(q=!0,s.on("dragstart dragmove dragend",function(T){go(T)}))}else s.draggable({enabled:!1})},_t=()=>{if(s==null&&(s=J(r.value),_||s.styleCursor(!1)),m.value&&!n.static){let f=wt(0,0,n.maxW,n.maxH),T=wt(0,0,n.minW,n.minH),O={edges:{left:o.isMirrored,right:!o.isMirrored,bottom:!0,top:!1},ignoreFrom:n.resizeIgnoreFrom,restrictSize:{min:{height:T.height,width:T.width},max:{height:f.height,width:f.width}}};n.preserveAspectRatio&&(O.modifiers=[J.modifiers.aspectRatio({ratio:"preserve"})]),s.resizable(O),Y||(Y=!0,s.on("resizestart resizemove resizeend",function(z){fo(z)}))}else s.resizable({enabled:!1})};return(f,T)=>(d.openBlock(),d.createElementBlock("div",{ref_key:"item",ref:r,class:d.normalizeClass(["vue-grid-item",d.unref(po)]),style:d.normalizeStyle(j.value)},[d.renderSlot(f.$slots,"default",{},void 0,!0),d.unref(fn)?(d.openBlock(),d.createElementBlock("span",{key:0,ref:"handle",class:d.normalizeClass(d.unref(ho))},null,2)):d.createCommentVNode("",!0)],6))}}),[["__scopeId","data-v-76b45c68"]]);function Ji(e){return{all:e=e||new Map,on:function(t,n){var i=e.get(t);i?i.push(n):e.set(t,[n])},off:function(t,n){var i=e.get(t);i&&(n?i.splice(i.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var i=e.get(t);i&&i.slice().map(function(o){o(n)}),(i=e.get("*"))&&i.slice().map(function(o){o(t,n)})}}}function Zi(e){return d.getCurrentScope()?(d.onScopeDispose(e),!0):!1}const bt=typeof window!="undefined";function Qi(e){var t;const n=d.unref(e);return(t=n==null?void 0:n.$el)!=null?t:n}const to=bt?window:void 0;bt&&window.document,bt&&window.navigator,bt&&window.location;var an=Object.getOwnPropertySymbols,eo=Object.prototype.hasOwnProperty,no=Object.prototype.propertyIsEnumerable,io=(e,t)=>{var n={};for(var i in e)eo.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&an)for(var i of an(e))t.indexOf(i)<0&&no.call(e,i)&&(n[i]=e[i]);return n};function oo(e,t,n={}){const i=n,{window:o=to}=i,r=io(i,["window"]);let s;const a=o&&"ResizeObserver"in o,l=()=>{s&&(s.disconnect(),s=void 0)},u=d.watch(()=>Qi(e),p=>{l(),a&&o&&p&&(s=new o.ResizeObserver(t),s.observe(p,r))},{immediate:!0,flush:"post"}),c=()=>{l(),u()};return Zi(c),{isSupported:a,stop:c}}var ln,cn;bt&&(window==null?void 0:window.navigator)&&((ln=window==null?void 0:window.navigator)==null?void 0:ln.platform)&&/iP(ad|hone|od)/.test((cn=window==null?void 0:window.navigator)==null?void 0:cn.platform);var ro=Object.defineProperty,un=Object.getOwnPropertySymbols,so=Object.prototype.hasOwnProperty,ao=Object.prototype.propertyIsEnumerable,pn=(e,t,n)=>t in e?ro(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lo=(e,t)=>{for(var n in t||(t={}))so.call(t,n)&&pn(e,n,t[n]);if(un)for(var n of un(t))ao.call(t,n)&&pn(e,n,t[n]);return e};lo({text:""},{top:0,left:0,bottom:0,right:0,height:0,width:0});var ko="",dn=sn(d.defineComponent({props:{autoSize:{type:Boolean,default:!0},colNum:{type:Number,default:12},rowHeight:{type:Number,default:150},maxRows:{type:Number,default:1/0},margin:{type:Array,default:function(){return[10,10]}},isDraggable:{type:Boolean,default:!0},isResizable:{type:Boolean,default:!0},isMirrored:{type:Boolean,default:!1},useCssTransforms:{type:Boolean,default:!0},verticalCompact:{type:Boolean,default:!0},layout:{type:Array,required:!0},responsive:{type:Boolean,default:!1},responsiveLayouts:{type:Object,default:function(){return{}}},breakpoints:{type:Object,default:function(){return{lg:1200,md:996,sm:768,xs:480,xxs:0}}},cols:{type:Object,default:function(){return{lg:12,md:10,sm:6,xs:4,xxs:2}}},preventCollision:{type:Boolean,default:!1},useStyleCursor:{type:Boolean,default:!0}},emits:["layout-ready","update:layout","layout-created","layout-before-mount","layout-mounted","layout-updated","breakpoint-changed"],setup(e,{emit:t}){const n=e,i=Ji();d.provide("eventBus",i),d.provide("layout",n);const o=d.ref(100),r=d.ref({}),s=d.ref(!1),a=d.reactive({x:0,y:0,w:0,h:0,i:"-1"});let l={},u=null,c=null;const p=d.ref(null);d.watch(()=>o.value,(S,$)=>{d.nextTick(function(){i.emit("updateWidth",{width:o.value}),$===null&&d.nextTick(()=>{t("layout-ready",n.layout)}),m()})}),d.watch(()=>n.layout,()=>{g()}),d.watch(()=>n.colNum,S=>i.emit("setColNum",{colNum:S})),d.watch(()=>n.rowHeight,()=>i.emit("setRowHeight",{rowHeight:n.rowHeight})),d.watch(()=>n.isDraggable,()=>i.emit("setDraggable",{isDraggable:n.isDraggable})),d.watch(()=>n.isResizable,()=>i.emit("setResizable",{isResizable:n.isResizable})),d.watch(()=>n.responsive,()=>{n.responsive||(t("update:layout",c),i.emit("setColNum",{colNum:n.colNum})),w()}),d.watch(()=>n.maxRows,()=>i.emit("setMaxRows",{maxRows:n.maxRows})),d.watch(()=>n.margin,()=>m()),d.onBeforeUnmount(()=>{i.off("resizeItem",E),i.off("dragItem",b)}),d.onBeforeMount(()=>{t("layout-before-mount",n.layout)}),d.onMounted(()=>{t("layout-mounted",n.layout),d.nextTick(()=>{Cn(n.layout),c=n.layout,d.nextTick(()=>{w(),M(),at(n.layout,n.verticalCompact),t("layout-updated",n.layout),m(),d.nextTick(()=>oo(p.value,()=>w()))})})});const g=()=>{if(n.layout!==void 0&&c!==null){if(n.layout.length!==c.length){let S=N(n.layout,c);S.length>0&&(n.layout.length>c.length?c=c.concat(S):c=c.filter($=>!S.some(C=>$.i===C.i))),M()}at(n.layout,n.verticalCompact),i.emit("updateWidth",{width:o.value}),m(),t("layout-updated",n.layout)}},m=()=>{r.value={height:_()}},w=()=>{p.value!==null&&p.value!==void 0&&(o.value=p.value.offsetWidth),n.responsive&&P(),at(n.layout,n.verticalCompact),i.emit("compact"),m(),i.emit("updateWidth",{width:o.value})},_=()=>n.autoSize?B(n.layout)*(n.rowHeight+n.margin[1])+n.margin[1]+"px":void 0,b=S=>{const{eventType:$,i:C,x:j,y:q,h:Y,w:rt}=S;let I=de(n.layout,C);I==null&&(I={x:0,y:0}),$==="dragmove"||$==="dragstart"?(a.i=C,a.x=I.x,a.y=I.y,a.w=rt,a.h=Y,d.nextTick(function(){s.value=!0}),i.emit("updateWidth",{width:o.value})):d.nextTick(function(){s.value=!1}),t("update:layout",jt(n.layout,I,j,q,!0,n.preventCollision)),at(n.layout,n.verticalCompact),i.emit("compact"),m(),$==="dragend"&&t("layout-updated",n.layout)},E=S=>{const{eventType:$,i:C,x:j,y:q,h:Y,w:rt}=S;let I=de(n.layout,C);I==null&&(I={h:0,w:0});let dt;if(n.preventCollision){const xt=he(n.layout,ue(Ft({},I),{w:rt,h:Y})).filter(R=>R.i!==I.i);if(dt=xt.length>0,dt){let R=1/0,F=1/0;xt.forEach(A=>{A.x>I.x&&(R=Math.min(R,A.x)),A.y>I.y&&(F=Math.min(F,A.y))}),Number.isFinite(R)&&(I.w=R-I.x),Number.isFinite(F)&&(I.h=F-I.y)}}dt||(I.w=rt,I.h=Y),$==="resizestart"||$==="resizemove"?(a.i=C,a.x=j,a.y=q,a.w=I.w,a.h=I.h,d.nextTick(()=>s.value=!0),i.emit("updateWidth",{width:o.value})):d.nextTick(()=>s.value=!1),n.responsive&&P(),at(n.layout,n.verticalCompact),i.emit("compact"),m(),$==="resizeend"&&t("layout-updated",n.layout)},P=()=>{let S=An(n.breakpoints,o.value),$=Bt(S,n.cols);u!=null&&!l[u]&&(l[u]=Wt(n.layout));let C=kn(c,l,n.breakpoints,S,u,$,n.verticalCompact);l[S]=C,u!==S&&t("breakpoint-changed",S,n.layout),t("update:layout",C),u=S,i.emit("setColNum",{colNum:Bt(S,n.cols)})},M=()=>{l=Object.assign({},n.responsiveLayouts)},N=(S,$)=>{let C=S.filter(q=>!$.some(Y=>q.i===Y.i)),j=$.filter(q=>!S.some(Y=>q.i===Y.i));return C.concat(j)};return i.on("resizeItem",E),i.on("dragItem",b),t("layout-created",n.layout),(S,$)=>(d.openBlock(),d.createElementBlock("div",{ref_key:"item",ref:p,class:"vue-grid-layout",style:d.normalizeStyle(r.value)},[d.renderSlot(S.$slots,"default",{},void 0,!0),d.withDirectives(d.createVNode(ae,{class:"vue-grid-placeholder",x:d.unref(a).x,y:d.unref(a).y,w:d.unref(a).w,h:d.unref(a).h,i:d.unref(a).i},null,8,["x","y","w","h","i"]),[[d.vShow,s.value]])],4))}}),[["__scopeId","data-v-b9138bf4"]]);const hn=e=>{e.component("GridLayout",dn),e.component("GridItem",ae)};D.GridItem=ae,D.GridLayout=dn,D.default=hn,D.install=hn,Object.defineProperty(D,"__esModule",{value:!0}),D[Symbol.toStringTag]="Module"});
